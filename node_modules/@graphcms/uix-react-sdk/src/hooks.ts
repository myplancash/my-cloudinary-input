import { useWrapperContext } from './Wrapper';
import type {
  FormSidebarExtensionProps,
  FieldExtensionProps,
  ExtensionDeclaration,
  DeclarationRelativeProps,
} from '@graphcms/uix-sdk';

export function useFieldExtension() {
  return useWrapperContext() as FieldExtensionProps;
}

export function useFormSidebarExtension() {
  return useWrapperContext() as FormSidebarExtensionProps;
}

/**
 * @deprecated please use {@link useFieldExtension} or {@link useFormSidebarExtension}
 */
export function useUiExtension<Declaration extends ExtensionDeclaration>() {
  return useWrapperContext() as DeclarationRelativeProps<Declaration>;
}

export function useUiExtensionDialog<
  DialogReturn = any,
  DialogProps = Record<string, unknown>
>() {
  return useWrapperContext() as {
    onCloseDialog: (value?: DialogReturn | null) => void;
  } & DialogProps;
}
