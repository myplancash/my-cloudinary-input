"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e,o=(e=require("@graphcms/zoid/lib/zoid.js"))&&"object"==typeof e&&"default"in e?e.default:e;function n(e,o){if(null==e)return{};var n,r,t={},i=Object.keys(e);for(r=0;r<i.length;r++)o.indexOf(n=i[r])>=0||(t[n]=e[n]);return t}var r=["timeout","window","close","focus","resize","uid","cspNonce","getParent","getParentDomain","hide","show","export","onDisplay","onRendered","onRender","onClose","onDestroy","onResize","onFocus","onError","onProps"],t=["onProps","onConnected","resize"],i=["onProps","onConnected"];function s(e){var o={};return Object.keys(e).forEach((function(n){r.includes(n)||(n.startsWith("_")&&r.includes(n.replace(/^_/g,""))?o[n.replace(/^_/g,"")]=e[n]:o[n]=e[n])})),o}function a(e){var r=e.debug,a=e.declaration,d=e.onProps,p=void 0===d?function(){}:d,l=e.uid;return new Promise((function(e,d){if("undefined"==typeof window||void 0===window.postMessage)return d({error:"unsupported_env",message:"Unsupported environment: Not in a browser supporting PostMessage"});var u=l||"undefined"!=typeof URLSearchParams&&new URLSearchParams(window.location.search).get("extensionUid");if(!u)return r&&console.error("[UIX] no uid found in init params or extension URL"),d({error:"missing_uid",message:"Missing UID: no UID found in init params or extension URL"});if(r&&console.info("[UIX:"+u+"] initializing with uid "+u),o.create({tag:u,url:window.location.href.toString(),autoResize:{width:!1,height:!0,element:"html"},props:{onConnected:{type:"function"}}}),void 0!==window.xprops){var c=window.xprops.onConnected;r&&console.info("[UIX:"+u+"] transmitting declaration",a),c(u,a).then((function(o){if(!0===o){var a=window.xprops,d=a.onProps,l=a.resize,c=n(a,t);r&&console.info("[UIX:"+u+"] initial shared props",c),d((function(e){var o=n(e,i);r&&console.info("[UIX:"+u+"] new shared props",o),"boolean"==typeof e.isExpanded&&l(e.isExpanded?{height:"full",width:"100%"}:{height:"auto",width:"100%"}),p(s(o))})),r&&console.info("[UIX:"+u+"] initialized"),p(s(c)),e({status:"ok",props:s(c)})}else r&&console.info("[UIX:"+u+"] sdk renderer returned status:",o),e({status:"validation"})}))}else r&&console.error("[UIX] no shared props from host found"),d({error:"failed_communication",message:"No communication established with host, please check your URL"})}))}var d={init:a};exports.ConfigType={string:"string",number:"number",boolean:"boolean"},exports.ExtensionType={formSidebar:"formSiderbar",field:"field"},exports.FieldExtensionFeature={FieldRenderer:"FieldRenderer",ListRenderer:"ListRenderer",TableRenderer:"TableRenderer"},exports.FieldExtensionType={STRING:"STRING",RICHTEXT:"RICHTEXT",INT:"INT",FLOAT:"FLOAT",BOOLEAN:"BOOLEAN",JSON:"JSON",DATETIME:"DATETIME",DATE:"DATE",LOCATION:"LOCATION",COLOR:"COLOR",ENUMERATION:"ENUMERATION",RELATION:"RELATION",ASSET:"ASSET",UNION:"UNION"},exports.StageColorPalette={PINK:"PINK",PURPLE:"PURPLE",ORANGE:"ORANGE",RED:"RED",BROWN:"BROWN",TEAL:"TEAL",GREEN:"GREEN",YELLOW:"YELLOW"},exports.ToastPosition={"top-right":"top-right","top-center":"top-center","top-left":"top-left","bottom-right":"bottom-right","bottom-center":"bottom-center","bottom-left":"bottom-left"},exports.ToastVariantColor={success:"success",error:"error",warning:"warning",info:"info",primary:"primary",dark:"dark",publish:"publish"},exports.VisibilityType={READ_WRITE:"READ_WRITE",READ_ONLY:"READ_ONLY",HIDDEN:"HIDDEN"},exports.default=d,exports.init=a,exports.reservedExtensionProps=r;
//# sourceMappingURL=gcuix.cjs.production.min.js.map
